From 2893969f1e4f22f3ad3b79b8243ef8dd27cba05e Mon Sep 17 00:00:00 2001
From: Lawrence Rust <lvr@softsystem.co.uk>
Date: Mon, 14 Jan 2013 18:46:07 +0000
Subject: [PATCH 130/227] TV: Add extra fill modes

For viewing 1.85, 2.39 and 2.75:1 movies on 4:3 displays

Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
---
 mythtv/libs/libmythtv/videoouttypes.h    |    4 ++++
 mythtv/libs/libmythtv/videooutwindow.cpp |   22 ++++++++++++++++++++++
 2 files changed, 26 insertions(+)

diff --git a/mythtv/libs/libmythtv/videoouttypes.h b/mythtv/libs/libmythtv/videoouttypes.h
index 2c57fdf..29600a5 100644
--- a/mythtv/libs/libmythtv/videoouttypes.h
+++ b/mythtv/libs/libmythtv/videoouttypes.h
@@ -55,6 +55,8 @@ typedef enum AdjustFillMode
     kAdjustFill_Off = 0,
     kAdjustFill_Half,
     kAdjustFill_Full,
+    kAdjustFill_Fuller,
+    kAdjustFill_Fullest,
     kAdjustFill_HorizontalStretch,
     kAdjustFill_VerticalStretch,
     kAdjustFill_HorizontalFill,
@@ -268,6 +270,8 @@ inline QString toString(AdjustFillMode aspectmode)
     {
         case kAdjustFill_Half:    ret = QObject::tr("Half");    break;
         case kAdjustFill_Full:    ret = QObject::tr("Full");    break;
+        case kAdjustFill_Fuller:  ret = QObject::tr("Fuller");  break;
+        case kAdjustFill_Fullest: ret = QObject::tr("Fullest"); break;
         case kAdjustFill_HorizontalStretch:
             ret = QObject::tr("H.Stretch"); break;
         case kAdjustFill_VerticalStretch:
diff --git a/mythtv/libs/libmythtv/videooutwindow.cpp b/mythtv/libs/libmythtv/videooutwindow.cpp
index 5117d8f..2e73336 100644
--- a/mythtv/libs/libmythtv/videooutwindow.cpp
+++ b/mythtv/libs/libmythtv/videooutwindow.cpp
@@ -371,6 +371,28 @@ void VideoOutWindow::ApplyLetterboxing(void)
             display_video_rect.width() * 4 / 3,
             display_video_rect.height() * 4 / 3);
     }
+    else if (adjustfill == kAdjustFill_Fuller)
+    {
+        // Zoom mode -- Expand by 3/2 and overscan.
+        // Remove 1/2 of original from overscan;
+        // take half from each side, so remove 1/4.
+        display_video_rect = QRect(
+            display_video_rect.left() - (display_video_rect.width() / 4),
+            display_video_rect.top() - (display_video_rect.height() / 4),
+            (display_video_rect.width() * 3) / 2,
+            (display_video_rect.height() * 3) / 2);
+    }
+    else if (adjustfill == kAdjustFill_Fullest)
+    {
+        // Zoom mode -- Expand by 5/3 and overscan.
+        // Remove 2/3 of original from overscan;
+        // take half from each side, so remove 1/3.
+        display_video_rect = QRect(
+            display_video_rect.left() - (display_video_rect.width() / 3),
+            display_video_rect.top() - (display_video_rect.height() / 3),
+            (display_video_rect.width() * 5) / 3,
+            (display_video_rect.height() * 5) / 3);
+    }
     else if (adjustfill == kAdjustFill_Half)
     {
         // Zoom mode -- Expand by 7/6 and overscan.
-- 
1.7.9.5

