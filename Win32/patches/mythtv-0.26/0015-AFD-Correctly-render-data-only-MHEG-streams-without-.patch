From d2f9c64af0571d5315903fc67c124a741ced113f Mon Sep 17 00:00:00 2001
From: Lawrence Rust <lvr@softsystem.co.uk>
Date: Wed, 6 Mar 2013 20:23:19 +0000
Subject: [PATCH 015/227] AFD: Correctly render data only (MHEG) streams
 without audio or video

Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
---
 mythtv/libs/libmythtv/avformatdecoder.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mythtv/libs/libmythtv/avformatdecoder.cpp b/mythtv/libs/libmythtv/avformatdecoder.cpp
index 985086c..431ce80 100644
--- a/mythtv/libs/libmythtv/avformatdecoder.cpp
+++ b/mythtv/libs/libmythtv/avformatdecoder.cpp
@@ -4530,8 +4530,8 @@ bool AvFormatDecoder::GetFrame(DecodeType decodetype)
             {
                 // no need to buffer audio or video if we
                 // only care about building a keyframe map.
+                // NB but allow for data only (MHEG) streams
                 allowedquit = true;
-                continue;
             }
             else if (lowbuffers && ((decodetype & kDecodeAV) == kDecodeAV) &&
                      (storedPackets.count() < max_video_queue_size) &&
-- 
1.7.9.5

