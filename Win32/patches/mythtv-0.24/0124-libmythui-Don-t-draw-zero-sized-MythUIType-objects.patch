From 4556399681255247282a8a4f4003e051aa32c0f5 Mon Sep 17 00:00:00 2001
From: Lawrence Rust <lvr@softsystem.co.uk>
Date: Fri, 8 Jun 2012 18:46:43 +0200
Subject: [PATCH 124/285] libmythui: Don't draw zero sized MythUIType objects

MythUIType::Draw uses the m_Area rect to intersect with the clip rect
to determine if a redraw is required.  Unfortunately, some objects have
an invalid m_Area and intersection is undefined in this case.

This bug results in a debug build of Qt complaining:
	QPainter::begin: Paint device returned engine == 0, type: 3
when drawing some OSD objects.

Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
---
 mythtv/libs/libmythui/mythuitype.cpp |    3 +++
 1 file changed, 3 insertions(+)

diff --git a/mythtv/libs/libmythui/mythuitype.cpp b/mythtv/libs/libmythui/mythuitype.cpp
index 8c504f6..59fca4c 100644
--- a/mythtv/libs/libmythui/mythuitype.cpp
+++ b/mythtv/libs/libmythui/mythuitype.cpp
@@ -438,6 +438,9 @@ void MythUIType::Draw(MythPainter *p, int xoffset, int yoffset, int alphaMod,
     if (!m_Visible)
         return;
 
+    if (!m_Area.isValid())
+        return;
+
     QRect realArea = m_Area.toQRect();
     realArea.translate(xoffset, yoffset);
 
-- 
1.7.9.5

