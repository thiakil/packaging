From 85c6111bb1664af44031566c3bab967d205465ac Mon Sep 17 00:00:00 2001
From: Lawrence Rust <lvr@softsystem.co.uk>
Date: Fri, 16 Aug 2013 14:08:02 +0100
Subject: [PATCH 168/207] myth_system: Don't redirect stdout/err to dev/null

This patch reinstates stdout/stderr output for programs run with
myth_system.

At present it's very difficult to see what is happening and fix any
errors in user provided scripts and/or programs.

Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
---
 mythtv/libs/libmythbase/mythsystemunix.cpp |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/mythtv/libs/libmythbase/mythsystemunix.cpp b/mythtv/libs/libmythbase/mythsystemunix.cpp
index 20ea5c2..28bf07e 100644
--- a/mythtv/libs/libmythbase/mythsystemunix.cpp
+++ b/mythtv/libs/libmythbase/mythsystemunix.cpp
@@ -955,6 +955,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                 _exit(GENERIC_EXIT_PIPE_FAILURE);
             }
         }
+#if 0
         else
         {
             /* We aren't sucking this down, redirect stdout to /dev/null */
@@ -986,6 +987,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                      << strerror(errno) << endl;
             }
         }
+#endif
 
         /* handle standard err */
         if( p_stderr[1] >= 0 )
@@ -999,6 +1001,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                 _exit(GENERIC_EXIT_PIPE_FAILURE);
             }
         }
+#if 0
         else
         {
             /* We aren't sucking this down, redirect stderr to /dev/null */
@@ -1030,6 +1033,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                      << strerror(errno) << endl;
             }
         }
+#endif
 
         /* Close all open file descriptors except stdin/stdout/stderr */
         for( int i = sysconf(_SC_OPEN_MAX) - 1; i > 2; i-- )
-- 
1.7.9.5

